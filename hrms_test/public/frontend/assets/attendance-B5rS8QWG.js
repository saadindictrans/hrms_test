import{a3 as i,O as n}from"./frappe-ui-qLvTFYQB.js";import{e as r,k as s}from"./index-CEKosOWR.js";const d=t=>{const e=s(t.from_date).format("D MMM"),a=t.to_date?s(t.to_date).format("D MMM"):"Ongoing";return e==a?e:`${e} - ${a}`},c=t=>{if(!t.to_date)return null;const e=s(t.to_date),a=s(t.from_date);return e.diff(a,"d")+1},f=t=>{const e=s(t.start_date).format("D MMM"),a=t.end_date?s(t.end_date).format("D MMM"):"Ongoing";return e==a?e:`${e} - ${a}`},l=t=>{if(!t.end_date)return null;const e=s(t.end_date),a=s(t.start_date);return e.diff(a,"d")+1},p=t=>t.start_time.split(":").slice(0,2).join(":")+" - "+t.end_time.split(":").splice(0,2).join(":"),m=t=>t.map(e=>(e.doctype="Shift Request",e.shift_dates=d(e),e.total_shift_days=c(e),e));var o;const y=i({doctype:"Attendance Request",fields:["name","reason","from_date","to_date","include_holidays","shift","docstatus","creation"],filters:{employee:(o=r.data)==null?void 0:o.name,docstatus:["!=",2]},pageLength:10,orderBy:"creation desc",auto:!0,cache:"hrms:attendance_requests",transform:t=>t.map(e=>(e.doctype="Attendance Request",e.attendance_dates=d(e),e.total_attendance_days=c(e),e))}),g=n({url:"hrms.api.get_shift_requests",params:{employee:r.data.name,limit:10},auto:!0,cache:"hrms:my_shift_requests",transform(t){return m(t)}}),h=n({url:"hrms.api.get_shift_requests",params:{employee:r.data.name,approver_id:r.data.user_id,for_approval:1,limit:10},auto:!0,cache:"hrms:team_shift_requests",transform(t){return m(t)}});export{l as a,p as b,g as c,d,c as e,f as g,y as m,h as t};
//# sourceMappingURL=attendance-B5rS8QWG.js.map
