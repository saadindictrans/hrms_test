import{c as Y}from"./index-CEKosOWR.js";import{i as g,O as B,c as C,f as M,j as s,k as l,q as e,t as n,v as i,a5 as h,F as d,I as b,l as v,x as w,A as k,n as V,J as A}from"./frappe-ui-qLvTFYQB.js";const D={class:"flex flex-col gap-5 w-full"},E={class:"flex flex-row justify-between items-center"},H={class:"text-lg text-gray-800 font-bold"},N={key:0,id:"open-holiday-list",class:"text-sm text-gray-800 font-semibold cursor-pointer underline underline-offset-2"},S={key:0,class:"flex flex-col bg-white rounded"},$={class:"flex flex-row items-center gap-3 grow"},F={class:"text-base font-normal text-gray-800"},I={class:"text-base font-bold text-gray-800"},L={class:"bg-white w-full flex flex-col items-center justify-center pb-5"},q={class:"w-full pt-8 pb-5 border-b text-center"},z={class:"text-gray-900 font-bold text-lg"},J={class:"w-full flex flex-col items-center justify-center gap-5 p-4"},O={class:"flex flex-row items-center gap-3 grow"},R={class:"text-base font-normal text-gray-800"},P={__name:"Holidays",setup(U){const j=g("$employee"),_=g("$dayjs"),c=B({url:"hrms.api.get_holidays_for_employee",params:{employee:j.data.name},auto:!0,transform:t=>t.map(a=>{const r=_(a.holiday_date);return a.is_upcoming=r.isAfter(_()),a.formatted_holiday_date=r.format("ddd, D MMM YYYY"),a})}),f=C(()=>{var a;const t=(a=c.data)==null?void 0:a.filter(r=>r.is_upcoming);return t==null?void 0:t.slice(0,5)});return(t,a)=>{var m,u,p,x,y;const r=M("EmptyState");return s(),l(d,null,[e("div",D,[e("div",E,[e("div",H,n(t.__("Upcoming Holidays")),1),(u=(m=i(c))==null?void 0:m.data)!=null&&u.length?(s(),l("div",N,n(t.__("View All")),1)):h("",!0)]),(p=f.value)!=null&&p.length?(s(),l("div",S,[(s(!0),l(d,null,b(f.value,o=>(s(),l("div",{class:"flex flex-row flex-start p-4 items-center justify-between border-b",key:o.holiday_date},[e("div",$,[v(i(w),{name:"calendar",class:"h-5 w-5 text-gray-500"}),e("div",F,n(o.description),1)]),e("div",I,n(o.formatted_holiday_date),1)]))),128))])):(s(),k(r,{key:1,message:"You have no upcoming holidays"}))]),(y=(x=i(c))==null?void 0:x.data)!=null&&y.length?(s(),k(i(Y),{key:0,ref:"modal",trigger:"open-holiday-list","initial-breakpoint":1,breakpoints:[0,1]},{default:V(()=>[e("div",L,[e("div",q,[e("span",z,n(t.__("Holiday List")),1)]),e("div",J,[(s(!0),l(d,null,b(i(c).data,o=>(s(),l("div",{key:o.holiday_date,class:"flex flex-row items-center justify-between w-full"},[e("div",O,[v(i(w),{name:"calendar",class:"h-5 w-5 text-gray-500"}),e("div",R,n(t.__(o.description)),1)]),e("div",{class:A(["text-base font-bold",o.is_upcoming?"text-gray-800":"text-gray-500"])},n(o.formatted_holiday_date),3)]))),128))])])]),_:1},512)):h("",!0)],64)}}};export{P as default};
//# sourceMappingURL=Holidays-f3QoNnNf.js.map
