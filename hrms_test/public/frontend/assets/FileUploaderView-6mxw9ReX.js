import{G as C,a as _,f as F,j as u,k as f,q as e,t as o,l as i,v as n,x as g,F as D,I as B,n as d,y as m,a6 as p,z as A,a5 as N}from"./frappe-ui-qLvTFYQB.js";import{c as U}from"./index-CEKosOWR.js";import{F as $}from"./workflow-DLGjdWDd.js";const j={class:"flex flex-col gap-3 py-4"},I={class:"file-select"},M={class:"text-base font-semibold text-gray-800 pb-4"},P={class:"select-button cursor-pointer"},q={class:"flex flex-col w-full border shadow-sm items-center rounded p-3 gap-2"},z={class:"block text-sm font-normal leading-5 text-gray-700"},E={key:0,class:"w-full"},G={class:"w-full flex flex-col items-center gap-2"},L={class:"flex flex-row items-center justify-between text-gray-700 text-sm"},O=["onClick"],R={class:"text-lg font-bold"},S={class:"font-bold"},T={class:"flex flex-row gap-4"},H={__name:"FileUploaderView",props:{modelValue:{type:Object,required:!0}},emits:["handle-file-select","handle-file-delete"],setup(h,{emit:x}){let a=_(!1),r=_(!1),c=_({});const v=x;function y(t){c.value=t,r.value=!0}function b(t){c.value=t,a.value=!0}function k(){v("handle-file-delete",c.value),a.value=!1}return(t,s)=>{const w=F("Button");return u(),f("div",j,[e("label",I,[e("h2",M,o(t.__("Attachments")),1),e("div",P,[e("div",q,[i(n(g),{name:"upload",class:"h-6 w-6 text-gray-700"}),e("span",z,o(t.__("Upload images or documents")),1)]),e("input",{class:"hidden",ref:"input",type:"file",multiple:"",accept:"*",onChange:s[0]||(s[0]=l=>v("handle-file-select",l))},null,544)])]),h.modelValue.length?(u(),f("div",E,[e("ul",G,[(u(!0),f(D,null,B(h.modelValue,(l,V)=>(u(),f("li",{class:"bg-gray-100 rounded p-2 w-full",key:V},[e("div",L,[e("span",{class:"grow",onClick:J=>y(l)},o(l.file_name||l.name),9,O),i(n(g),{name:"x",class:"h-4 w-4 cursor-pointer text-gray-700",onClick:()=>b(l)},null,8,["onClick"])])]))),128))]),i(n(A),{modelValue:n(a),"onUpdate:modelValue":s[2]||(s[2]=l=>p(a)?a.value=l:a=l)},{"body-title":d(()=>[e("h2",R,o(t.__("Delete Attachment")),1)]),"body-content":d(()=>[e("p",null,[m(o(t.__("Are you sure you want to delete the attachment"))+" ",1),e("span",S,o(n(c).file_name),1),s[4]||(s[4]=m(" ? "))])]),actions:d(()=>[e("div",T,[i(w,{variant:"outline",class:"py-5 w-full",onClick:s[1]||(s[1]=l=>p(a)?a.value=!1:a=!1)},{default:d(()=>[m(o(t.__("Cancel")),1)]),_:1}),i(w,{variant:"solid",theme:"red",onClick:k,class:"py-5 w-full"},{default:d(()=>[m(o(t.__("Delete")),1)]),_:1})])]),_:1},8,["modelValue"]),i(n(U),{ref:"modal","is-open":n(r),onDidDismiss:s[3]||(s[3]=l=>p(r)?r.value=!1:r=!1)},{default:d(()=>[i($,{file:n(c)},null,8,["file"])]),_:1},8,["is-open"])])):N("",!0)])}}},X=C(H,[["__scopeId","data-v-bdd073c8"]]);export{X as default};
//# sourceMappingURL=FileUploaderView-6mxw9ReX.js.map
