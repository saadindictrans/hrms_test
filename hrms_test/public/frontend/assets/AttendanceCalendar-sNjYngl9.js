import{i as g,a as w,c as k,w as O,O as j,f as C,v as y,j as l,k as d,q as e,l as p,t as u,F as m,I as f,J as x,a5 as A}from"./frappe-ui-qLvTFYQB.js";const F={key:0,class:"flex flex-col w-full gap-5"},S={class:"flex flex-col gap-6 bg-white py-6 px-3.5 rounded-lg border-none"},B={class:"flex flex-row justify-between items-center px-4"},H={class:"text-lg text-gray-800 font-bold"},$={class:"grid grid-cols-7 gap-y-3"},L={class:"flex justify-center text-gray-600 text-sm font-medium leading-6"},P={class:"text-gray-800 text-sm font-medium m-auto"},E={class:"grid grid-cols-4 mx-2"},N={class:"flex flex-col gap-1"},V={class:"flex flex-row gap-1 items-center"},W={class:"text-gray-600 text-sm font-medium leading-5"},T={class:"text-gray-800 text-base font-semibold leading-6 mx-auto"},I={__name:"AttendanceCalendar",setup(q){const h=g("$dayjs"),b=g("$employee"),o=g("$translate"),t=w(h().date(1).startOf("D")),v={Present:"bg-green-300","Work From Home":"bg-green-300","Half Day":"bg-yellow-200",Absent:"bg-red-200","On Leave":"bg-blue-300",Holiday:"bg-gray-300"},M=["Present","Half Day","Absent","On Leave"],Y=k(()=>{const n={};for(const s of Object.values(i.data)){let c=s==="Work From Home"?"Present":s;c in n?n[c]+=1:n[c]=1}return n});O(()=>t.value,()=>{i.fetch()});const _=n=>i.data[t.value.date(n).format("YYYY-MM-DD")],r=n=>Array.from(n.trim())[0],D=[r(o("Sunday")),r(o("Monday")),r(o("Tuesday")),r(o("Wednesday")),r(o("Thursday")),r(o("Friday")),r(o("Saturday"))],i=j({url:"hrms.api.get_attendance_calendar_events",auto:!0,cache:"hrms:attendance_calendar_events",makeParams(){return{employee:b.data.name,from_date:t.value.format("YYYY-MM-DD"),to_date:t.value.endOf("M").format("YYYY-MM-DD")}}});return(n,s)=>{const c=C("Button");return y(i).data?(l(),d("div",F,[s[3]||(s[3]=e("div",{class:"text-lg text-gray-800 font-bold"},"Attendance Calendar",-1)),e("div",S,[e("div",B,[p(c,{icon:"chevron-left",variant:"ghost",onClick:s[0]||(s[0]=a=>t.value=t.value.subtract(1,"M"))}),e("span",H,u(t.value.format("MMMM"))+" "+u(t.value.format("YYYY")),1),p(c,{icon:"chevron-right",variant:"ghost",onClick:s[1]||(s[1]=a=>t.value=t.value.add(1,"M"))})]),e("div",$,[(l(),d(m,null,f(D,a=>e("div",L,u(a),1)),64)),(l(!0),d(m,null,f(t.value.get("d"),a=>(l(),d("div"))),256)),(l(!0),d(m,null,f(t.value.endOf("M").get("D"),a=>(l(),d("div",null,[e("div",{class:x(["h-8 w-8 flex rounded-full mx-auto",_(a)&&v[_(a)]])},[e("span",P,u(a),1)],2)]))),256))]),s[2]||(s[2]=e("hr",null,null,-1)),e("div",E,[(l(),d(m,null,f(M,a=>e("div",N,[e("div",V,[e("span",{class:x(["rounded full h-3 w-3",v[a]])},null,2),e("span",W,u(y(o)(a)),1)]),e("span",T,u(Y.value[a]||0),1)])),64))])])])):A("",!0)}}};export{I as default};
//# sourceMappingURL=AttendanceCalendar-sNjYngl9.js.map
